module M

  use import module stdlib.Ref

  (* reference would escape its scope *)

  let test () =
    let x = ref 0 in
    fun y -> x := y; !x

end
