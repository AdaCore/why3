module Bad

  use import int.Int
  use import ref.Ref

  let f (x y : ref int) : unit =
  { !x = !y }
    x := !x + 1
  { !x = !y + 1 }

  let g () : unit =
    let r = ref 0 in
    f r r;
    absurd

end
