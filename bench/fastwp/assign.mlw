module Assign

   use import int.Int

   use import ref.Ref

   val glob : ref int

   let f (x : ref int) =
      { }
      x := 0
      { ! x = 0 }

   let g (x : ref int) =
      { }
      x := !x + 1
      { ! x = old !x + 1 }

   let h (x : ref int) =
      { }
      x := !glob
      { ! x = !glob }

   let i (x : ref int) =
      { }
      glob := !x
      { ! x = !glob }

   let k (x : ref int) =
      { }
      glob := !glob + 1
      { ! x = !glob }
end
