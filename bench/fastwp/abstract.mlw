module Abstr
   use import int.Int
   use import ref.Ref

(* Unknown *)
   let test1 (x : ref int) =
      { !x = 1 }
      abstract
         x := !x + 1;
         x := !x - 1
         { !x > 0 }
      { !x = 1 }

(* Unknown *)
   let test2 (x : ref int) =
      { !x = 1 }
      abstract
         x := !x + 1;
         x := !x - 1
         { !x > 0 }
      { !x > 1 }

(* Valid *)
   let test3 (x : ref int) =
      { !x = 1 }
      abstract
         x := !x + 1;
         x := !x - 1
         { !x > 0 }
      { !x > 0 }
end
