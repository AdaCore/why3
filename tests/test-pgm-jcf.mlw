module M

  use import int.Int
  use import module ref.Ref

  parameter x : ref int

  let bar () = {} x := 1 { !x = 1 }

  parameter foo : y:int -> { y <> 0 } int { true }

  let test_and_2 () = { !x > 0 } foo !x {}

end


(***
module TestArray

  use import int.Int
  use import module array.Array

  (* TODO: update *)
  let f (x: array int) =
    { x.length = 2 }
    x[0] <- 1;
    x[1] <- 2
    { x[1] = 2 and x.length = 2 }

end
***)

(*
Local Variables:
compile-command: "unset LANG; make -C .. testl-ide"
End:
*)
