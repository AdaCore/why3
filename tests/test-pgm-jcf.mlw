module P

  use import int.Int
  use import module stdlib.Ref

  parameter r : ref int
  parameter fresh : unit -> {} unit writes r { r = old r + 1 }

  let rec f () =
    {}
    if any bool then
      fresh ()
    else begin
      f (); f ()
    end
    { r > old r }

end


(*
Local Variables: 
compile-command: "unset LANG; make -C .. testl-ide"
End: 
*)
