{

type purse = ref int

}

parameter new_purse : unit -> purse

let purse_init (balance: purse) (amount: int): unit =
{ amount >= 0 } 
    balance := amount
{ !balance = amount}

let test () : int =
{ true }
  let p1 = new_purse() in
  purse_init p1 150;
  let p2 = new_purse() in
  !p2
{ result = 150 }

(*
Local Variables: 
compile-command: "unset LANG; make -C .. testl-ide"
End: 
*)
