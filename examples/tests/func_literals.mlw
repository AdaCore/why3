use int.Int
use seq.Seq

goal g1:
  let a = [| 0 => 1 |] in
  let b = [| 1 => 2 |] in
  a 2 = b 2

goal g2:
  let a = [| 0 => 1; 1 => 2 |] in
  let b = [| 0 => 1; 1 => -2 |] in
  a 0 = b 0 &&
  a 1 = - (b 1) &&
  a 2 = b 3

goal g3:
  [|1|] = [|1|]

(* cannot be proved *)
let zero2three_nok (_: int): seq int
  ensures { result = create 4 [|0;1;2;3|] }
= create 4 [|0;1;2;3|]

let zero2three_ok (_: int): seq int
  ensures { result == create 4 [|0;1;2;3|] }
= create 4 [|0;1;2;3|]

(* can be proved *)
let zero2three_ok2 (default: int) : seq int
  ensures { result = create 4 [|0 => 0; 1 => 1; 2 => 2; 3 => 3; _ => default |]}
= create 4 [|0 => 0; 1 => 1; 2 => 2; 3 => 3; _ => default |]