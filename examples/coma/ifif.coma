use coma.Std

let test (&x &y &z: int) =
  (! if {x = 0} out_x ([&x <- 0] out_x)
     [ out_x [x] ->
       if {y = 0} out_y ([&y <- 0] out_y)
       [ out_y [y] ->
          if {z = 0} out_z ([&z <- 0] out_z)
          [ out_z [z] -> { x = y = z = 0 } halt]]])
